class Walls {
    lines = defaultLines

    constructor(startParams) {
        if (startParams) {
            this.lines = startParams.lines
        }
    }

    addLine() {
        this.lines.push({
            points: [],
            cycle: false
        })

        this.saveStartParams()
    }

    removeLine(index) {
        this.lines.splice(index, 1);

        this.saveStartParams()
    }

    setLineCycle(lineIndex) {
        this.lines[lineIndex].cycle = !this.lines[lineIndex].cycle

        this.saveStartParams()
    }

    addPoint(lineIndex, point) {
        this.lines[lineIndex].points.push(point)

        this.saveStartParams()
    }

    setPoint(lineIndex, pointIndex, point) {
        this.lines[lineIndex].points[pointIndex] = point

        this.saveStartParams()
    }

    removePoint(lineIndex, pointIndex) {
        this.lines[lineIndex].points.splice(pointIndex, 1)

        this.saveStartParams()
    }

    getLines() {
        return this.lines
    }

    saveStartParams() {
        localStorage.setItem('wallsStartParam', JSON.stringify({
                lines: this.lines
            }, null, 4)
        )
    }
}


const defaultLines =  [
    {
        "points": [
            {
                "x": 154.5454594609497,
                "y": 262.72726042121354
            },
            {
                "x": 231.81818156202985,
                "y": 182.7272616340556
            },
            {
                "x": 395.45453783697354,
                "y": 135.4545420138208
            },
            {
                "x": 530.9090697380465,
                "y": 123.63635829406488
            },
            {
                "x": 644.5454248714709,
                "y": 124.54544641504825
            },
            {
                "x": 879.9999590555825,
                "y": 119.99999055134256
            },
            {
                "x": 1082.7273196409578,
                "y": 105.45454246863655
            },
            {
                "x": 1220.0000278530717,
                "y": 123.63635829406488
            },
            {
                "x": 1327.272735380274,
                "y": 171.81817366467746
            },
            {
                "x": 1370.0000312776297,
                "y": 261.8181723002302
            },
            {
                "x": 1385.4544994038986,
                "y": 341.8181710873882
            },
            {
                "x": 1340.9090882306598,
                "y": 395.4545228132954
            },
            {
                "x": 1259.0908490580302,
                "y": 436.36361032785777
            },
            {
                "x": 1190.00002716816,
                "y": 480.90908084393124
            },
            {
                "x": 1155.4544941529098,
                "y": 543.6363442972499
            },
            {
                "x": 1146.3636736328629,
                "y": 616.3635770813856
            },
            {
                "x": 1130.9090834362785,
                "y": 685.4545184167431
            },
            {
                "x": 1117.272730585893,
                "y": 762.7272223233733
            },
            {
                "x": 1049.090844263649,
                "y": 808.1817504428526
            },
            {
                "x": 918.1817836577571,
                "y": 829.999987416764
            },
            {
                "x": 816.3636050636775,
                "y": 835.4545161426643
            },
            {
                "x": 715.4545451426972,
                "y": 823.6363400523028
            },
            {
                "x": 616.3636004976001,
                "y": 823.6363400523028
            },
            {
                "x": 537.2727173442686,
                "y": 798.1817505944578
            },
            {
                "x": 482.72727542514696,
                "y": 742.7272226265839
            },
            {
                "x": 454.54545105127625,
                "y": 707.2726943554993
            },
            {
                "x": 418.18180276014266,
                "y": 662.7272238394258
            },
            {
                "x": 370.9090966027635,
                "y": 633.6363429328027
            },
            {
                "x": 285.454535325631,
                "y": 625.4545193263746
            },
            {
                "x": 222.72726948924642,
                "y": 609.9999907520796
            },
            {
                "x": 172.7272683477271,
                "y": 569.9999913585007
            },
            {
                "x": 130.90909112347072,
                "y": 529.9999919649217
            },
            {
                "x": 110.909090666863,
                "y": 480.90908084393124
            },
            {
                "x": 106.36363463047128,
                "y": 412.72725814713476
            }
        ],
        "cycle": true
    },
    {
        "points": [
            {
                "x": 225.45454921459722,
                "y": 399.0908752972289
            },
            {
                "x": 252.727270174158,
                "y": 312.7272596631873
            },
            {
                "x": 293.63635924289395,
                "y": 264.5454366631803
            },
            {
                "x": 370.9090966027635,
                "y": 238.1818048607184
            },
            {
                "x": 469.0908920571824,
                "y": 228.18180501232362
            },
            {
                "x": 578.1818369305834,
                "y": 221.8181729066512
            },
            {
                "x": 684.5454257846864,
                "y": 219.09089328491226
            },
            {
                "x": 788.1817806898068,
                "y": 216.36362892196215
            },
            {
                "x": 902.7272544963305,
                "y": 209.99999681628972
            },
            {
                "x": 1000.9090804683283,
                "y": 212.72726117923983
            },
            {
                "x": 1100.9090827513671,
                "y": 208.18180531553415
            },
            {
                "x": 1172.7271996253771,
                "y": 225.4545406493735
            },
            {
                "x": 1228.181790735177,
                "y": 262.72726042121354
            },
            {
                "x": 1231.8181433572588,
                "y": 317.27270026810413
            },
            {
                "x": 1179.0908472315991,
                "y": 359.09087590364993
            },
            {
                "x": 1097.272730129285,
                "y": 403.6363464197234
            },
            {
                "x": 1056.3636715781279,
                "y": 488.1817858117983
            },
            {
                "x": 1038.1817863974036,
                "y": 548.1818154197443
            },
            {
                "x": 1034.5454337753217,
                "y": 596.363577384596
            },
            {
                "x": 1025.4544911849594,
                "y": 652.727223991031
            },
            {
                "x": 994.5454328621062,
                "y": 704.5453994749715
            },
            {
                "x": 938.1817841143647,
                "y": 730.9090465362224
            },
            {
                "x": 860.9090772720741,
                "y": 745.4545175071116
            },
            {
                "x": 790.0000180360054,
                "y": 744.5453988685506
            },
            {
                "x": 728.1817793199837,
                "y": 734.5453990201559
            },
            {
                "x": 667.2727203122188,
                "y": 715.4545179619273
            },
            {
                "x": 607.2727189423956,
                "y": 679.0908710522818
            },
            {
                "x": 559.0908941119172,
                "y": 623.6363430844078
            },
            {
                "x": 502.7272758817546,
                "y": 569.0908727199396
            },
            {
                "x": 448.18180344505424,
                "y": 539.0908731747554
            },
            {
                "x": 367.2727134631029,
                "y": 513.6363447520657
            },
            {
                "x": 297.2727118649758,
                "y": 492.72725693429277
            },
            {
                "x": 245.45454967120494,
                "y": 450.909081298747
            }
        ],
        "cycle": true
    }
]


export default Walls